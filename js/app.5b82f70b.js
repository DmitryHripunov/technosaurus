(function(t){function e(e){for(var a,i,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,n=1;n<r.length;n++){var c=r[n];0!==s[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},s={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/technosaurus/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"28b1":function(t,e,r){},3478:function(t,e,r){},5183:function(t,e,r){"use strict";var a=r("93ff"),s=r.n(a);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("router-view"),r("Footer")],1)},o=[],i=r("5530"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("div",{staticClass:"header__wrapper container"},[r("span",{staticClass:"header__info"},[t._v("Каталог")]),r("router-link",{staticClass:"header__logo",attrs:{to:{name:"main"}}},[r("img",{attrs:{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"}})]),r("a",{staticClass:"header__tel",attrs:{href:"tel:8 800 600 90 09"}},[t._v(" 8 800 600 90 09 ")]),r("CartIndicator")],1)])},c=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"header__cart",attrs:{to:{name:"cart"},"aria-label":"Корзина с товарами"}},[r("svg",{attrs:{width:"30",height:"21",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-cart"}})]),r("span",{staticClass:"header__count",attrs:{"aria-label":"Количество товаров"}},[t._v(" "+t._s(t.$store.state.baskets.baskets.cartProducts.length)+" ")])])},u=[],d={},p=d,m=r("2877"),_=Object(m["a"])(p,l,u,!1,null,null,null),f=_.exports,h={components:{CartIndicator:f}},v=h,b=Object(m["a"])(v,n,c,!1,null,null,null),g=b.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer"},[r("div",{staticClass:"footer__wrapper container"},[t._m(0),r("ul",{staticClass:"footer__social social"},[r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Вконтакте"}},[r("svg",{attrs:{width:"20",height:"11",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-vk"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Инстаграм"}},[r("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-insta"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Facebook"}},[r("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-facebook"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Twitter"}},[r("svg",{attrs:{width:"17",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-twitter"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Telegram"}},[r("svg",{attrs:{width:"19",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-telegram"}})])])])]),r("p",{staticClass:"footer__desc"},[t._v(" Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. ")]),t._m(1),r("span",{staticClass:"footer__copyright"},[t._v(" © 2020 Технозавррр ")])])])},P=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"footer__links"},[r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#"}},[t._v(" Каталог ")])]),r("li",[r("a",{staticClass:"footer__link",attrs:{href:"tel:88006009009"}},[t._v(" 8 800 600 90 09 ")])]),r("li",[r("a",{staticClass:"footer__link",attrs:{href:"mailto:hi@technozavrrr.com"}},[t._v(" hi@technozavrrr.com ")])]),r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#"}},[t._v(" Распродажа ")])]),r("li",[r("a",{staticClass:"footer__link footer__link--medium",attrs:{href:"#"}},[t._v(" Заказать звонок ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"footer__data"},[r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Политика конфиденциальности ")])]),r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Публичная оферта ")])])])}],y={},k=y,I=Object(m["a"])(k,C,P,!1,null,null,null),O=I.exports,x=r("2f62"),T={components:{Header:g,Footer:O},created:function(){var t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:Object(i["a"])(Object(i["a"])({},Object(x["b"])("baskets/baskets",["loadCart"])),Object(x["d"])("baskets/baskets",["updateUserAccessKey"]))},j=T,w=Object(m["a"])(j,s,o,!1,null,null,null),$=w.exports,F=r("8c4f"),D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top content__top--catalog"},[r("h1",{staticClass:"content__title"},[t._v("Каталог")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.countProductsAll)+" "+t._s(t._f("declText")(t.countProductsAll,["товар","товара","товаров"]))+" ")])]),r("div",{staticClass:"content__catalog"},[r("ProductFilter",t._b({},"ProductFilter",t.filters,!1,!0)),r("section",{staticClass:"catalog"},[t.productsLoading||t.productsLoadingFailed?t._e():r("ProductList",{attrs:{products:t.products}}),t.productsLoading?r("Preloader"):t._e(),t.productsLoadingFailed?r("div",{staticClass:"error-wrapper"},[r("h2",{staticClass:"error-heading"},[t._v(" Что-то пошло не так ")]),r("button",{staticClass:"error-button",on:{click:function(e){return e.preventDefault(),t.windowReload(e)}}},[t._v(" перезагрузить ")])]):t._e(),0!==t.countProductsAll||t.productsLoading?t._e():r("div",{staticClass:"error-wrapper"},[r("h2",{staticClass:"error-heading"},[t._v(" Пусто ")]),r("button",{staticClass:"error-button",on:{click:function(e){return e.preventDefault(),t.filterCategoryReset(e)}}},[t._v(" Сбросить Фильтр ")])]),r("BasePagination",{attrs:{count:t.countProductsAll,"per-page":t.productPerPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)])},A=[],E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__list"},t._l(t.products,(function(t){return r("ProductItem",{key:t.id,attrs:{product:t,offers:t.offers}})})),1)},S=[],B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"catalog__item"},[r("router-link",{staticClass:"catalog__pic",attrs:{to:{name:"product",params:{id:t.product.id}}}},[r("picture",[r("img",{attrs:{src:t.product.image,alt:t.product.title}})])]),t.currentCheckedProps?[r("h3",{staticClass:"catalog__title"},[r("router-link",{attrs:{to:{name:"product",params:{id:t.product.id}}}},[t._v(" "+t._s(t.currentCheckedProps[0])+" ")])],1),r("span",{staticClass:"catalog__price"},[t._v(" "+t._s(t._f("numberFormat")(t.currentCheckedProps[1]))+" ₽ ")])]:[r("h3",{staticClass:"catalog__title"},[r("router-link",{attrs:{to:{name:"product",params:{id:t.product.id}}}},[t._v(" "+t._s(t.product.title)+" ")])],1),r("span",{staticClass:"catalog__price"},[t._v(" "+t._s(t._f("numberFormat")(t.product.price))+" ₽ ")])],t.offers&&t.offers.length>1?r("ul",{staticClass:"sizes sizes--primery",staticStyle:{"margin-top":"16px"}},t._l(t.offers,(function(e){return r("li",{key:e.id,staticClass:"sizes__item"},t._l(e.propValues,(function(a){return r("div",{key:a.value},[r("label",{staticClass:"sizes__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.propsChosen,expression:"propsChosen"}],staticClass:"sizes__radio sr-only",attrs:{type:"radio"},domProps:{value:[e.title,e.price,e.id],checked:t._q(t.propsChosen,[e.title,e.price,e.id])},on:{change:function(r){t.propsChosen=[e.title,e.price,e.id]}}}),r("span",{staticClass:"sizes__value"},[t._v(" "+t._s(a.value)+" ")])])])})),0)})),0):t._e()],2)},L=[];function V(t){return void 0===t||"string"===typeof t?"":(new Intl.NumberFormat).format(t)}var K={props:["product","offers"],data:function(){return{currentCheckedProps:null}},filters:{numberFormat:V},methods:Object(i["a"])({},Object(x["d"])("global/productProps",["updateProductProps"])),computed:Object(i["a"])({propsChosen:{get:function(){return this.currentCheckedProps},set:function(t){var e={id:t[2],price:t[1],title:t[0]};this.updateProductProps(e),this.currentCheckedProps=t}}},Object(x["c"])("global/productProps",["getProductProps"]))},N=K,M=Object(m["a"])(N,B,L,!1,null,null,null),q=M.exports,z={props:["products"],components:{ProductItem:q}},U=z,G=Object(m["a"])(U,E,S,!1,null,null,null),R=G.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__pagination pagination"},[r("li",{staticClass:"pagination__item"},[r("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":1===t.page},attrs:{href:"#","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page-1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])])]),t._l(t.croppedPagesList,(function(e){return r("li",{key:e,staticClass:"pagination__item"},[r("a",{staticClass:"pagination__link",class:{"pagination__link--current":e===t.page,"pagination__link--display-none":""===e,"pagination__link--default":"..."===e},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),r("li",{staticClass:"pagination__item"},[r("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.page>=t.pages},attrs:{href:"#","aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page+1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],2)},H=[],J=5,Q={model:{prop:"page",event:"paginate"},props:["page","count","perPage"],computed:{maxPages:function(){return J},pages:function(){return Math.ceil(this.count/this.perPage)},croppedPagesList:function(){return this.maxPages<this.pages?[this.page>1?1:"",this.page<=this.pages-2?this.page:"...",this.page<=this.pages-2?this.page+1:this.page-1,this.page<=this.pages-2?"...":this.page,this.page>=this.pages?"":this.pages]:this.pages}},methods:{paginate:function(t){t&&t<=this.pages&&this.$emit("paginate",t)}}},X=Q,Z=Object(m["a"])(X,W,H,!1,null,null,null),Y=Z.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("aside",{staticClass:"filter"},[r("h2",{staticClass:"filter__title"},[t._v("Фильтры")]),r("form",{staticClass:"filter__form form js-form",attrs:{method:"get"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цена")]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceFrom,expression:"currentPriceFrom",modifiers:{number:!0}}],staticClass:"form__input",attrs:{placeholder:this.currentPriceFrom,type:"number",name:"min-price"},domProps:{value:t.currentPriceFrom},on:{input:function(e){e.target.composing||(t.currentPriceFrom=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("От")])]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceTo,expression:"currentPriceTo",modifiers:{number:!0}}],staticClass:"form__input",attrs:{placeholder:this.currentPriceTo,type:"number",name:"max-price"},domProps:{value:t.currentPriceTo},on:{input:function(e){e.target.composing||(t.currentPriceTo=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("До")])])]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Категория")]),r("label",{staticClass:"form__label form__label--select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCategoryId,expression:"currentCategoryId"}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentCategoryId=e.target.multiple?r:r[0]}}},[r("option",{domProps:{value:0}},[t._v("Все категории")]),t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])}))],2)])]),t.filterCategoryId>0?t._l(this.categoryProps,(function(e){return r("fieldset",{key:e.id,staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v(" "+t._s(e.title)+" ")]),r("ul",{staticClass:"check-list"},t._l(e.availableValues,(function(e,a){return r("li",{key:a,staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label",class:{danger:0===e.productsCount}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCategoryProps,expression:"currentCategoryProps"}],staticClass:"check-list__check sr-only",attrs:{type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(t.currentCategoryProps)?t._i(t.currentCategoryProps,e.value)>-1:t.currentCategoryProps},on:{change:function(r){var a=t.currentCategoryProps,s=r.target,o=!!s.checked;if(Array.isArray(a)){var i=e.value,n=t._i(a,i);s.checked?n<0&&(t.currentCategoryProps=a.concat([i])):n>-1&&(t.currentCategoryProps=a.slice(0,n).concat(a.slice(n+1)))}else t.currentCategoryProps=o}}}),r("span",{staticClass:"check-list__desc"},[t._v(" "+t._s(e.value)+" "),r("span",[t._v(t._s(e.productsCount))])])])])})),0)])})):t._e(),r("button",{staticClass:"filter__submit button button--primery",attrs:{type:"submit"}},[t._v(" Применить ")]),r("button",{staticClass:"filter__reset button button--second",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.reset(e)}}},[t._v(" Сбросить ")])],2)])},et=[],rt=(r("99af"),r("4de4"),r("caad"),r("2532"),r("ade3")),at=r("bc3a"),st=r.n(at),ot="https://vue-tzr.skillbox.cc",it={data:function(){return{currentPriceFrom:1,currentPriceTo:1e6,categoriesData:null,filterCategoryProps:null,currentValues:[],currentCategoryId:0,currentCategoryProps:[]}},props:["filterPriceFrom","filterPriceTo","filterCategoryId","filterCheckedColor","productProps"],computed:{nameProps:function(){return this.categoryProps.length&&this.categoryProps[0].code?this.categoryProps[0].code:null},valueProps:function(){return this.nameProps?Object(rt["a"])({},this.nameProps,this.currentValues):{}},categories:function(){return this.loadCategoriesId(),this.categoriesData?this.categoriesData.items:[]},categoryProps:function(){return this.filterCategoryProps?this.filterCategoryProps.productProps:[]}},watch:{filterPriceFrom:function(t){this.currentPriceFrom=t},filterPriceTo:function(t){this.currentPriceTo=t},filterCheckedColor:function(t){this.currentCheckedColor=t},currentCategoryId:function(t){this.currentCategoryId=t},currentCategoryProps:function(t){if(this.currentValues.includes(t.value)){var e=this.currentValues.filter((function(e){return e!==t.value}));this.currentValues=e}else this.currentValues=t}},methods:{submit:function(){this.$emit("update:filterPriceFrom",this.currentPriceFrom),this.$emit("update:filterPriceTo",this.currentPriceTo),this.$emit("update:filterCheckedColor",this.currentCheckedColor),this.$emit("update:filterCategoryId",this.currentCategoryId),this.$emit("update:productProps",this.valueProps)},reset:function(){this.$emit("update:filterPriceFrom",1),this.$emit("update:filterPriceTo",1e6),this.$emit("update:filterCategoryId",0),this.$emit("update:productProps",[])},loadCategories:function(){var t=this;st.a.get("".concat(ot,"/api/productCategories")).then((function(e){t.categoriesData=e.data}))},loadCategoriesId:function(){var t=this;this.filterCategoryId>0&&st.a.get("".concat(ot,"/api/productCategories/").concat(this.filterCategoryId)).then((function(e){t.currentValues=[],t.$emit("update:productProps",t.valueProps),t.filterCategoryProps=e.data})),this.filterCategoryProps=0}},created:function(){this.loadCategories()}},nt=it,ct=(r("c183"),Object(m["a"])(nt,tt,et,!1,null,"8649aaba",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loader"},[r("div",{staticClass:"item-loader item-1"}),r("div",{staticClass:"item-loader item-2"}),r("div",{staticClass:"item-loader item-3"}),r("div",{staticClass:"item-loader item-4"})])}],pt={},mt=pt,_t=(r("e58d"),Object(m["a"])(mt,ut,dt,!1,null,null,null)),ft=_t.exports,ht={filters:{declText:function(t,e){var r=[2,0,1,1,1,2];return e[t%100>4&&t%100<20?2:r[t%10<5?t%10:5]]}}},vt={components:{ProductList:R,BasePagination:Y,ProductFilter:lt,Preloader:ft},data:function(){return{filters:{filterPriceFrom:1,filterPriceTo:1e6,filterCheckedColor:null,filterCategoryId:null,productProps:[]},page:1,productPerPage:3,productsLoading:!1,productsLoadingFailed:!1}},computed:Object(i["a"])({},Object(x["c"])("global/loadMainProducts",["getProductsData","products","countProductsAll"])),methods:Object(i["a"])(Object(i["a"])({},Object(x["b"])("global/loadMainProducts",["loadMainProducts"])),{},{loadProducts:function(){var t=this;this.productsLoading=!0,this.productsLoadingFailed=!1,clearTimeout(this.loadProductTimer),this.loadProductTimer=setTimeout((function(){t.loadMainProducts({categoryId:t.filters.filterCategoryId,colorId:t.filters.filterCheckedColor,minPrice:t.filters.filterPriceFrom,maxPrice:t.filters.filterPriceTo,limit:t.productPerPage,page:t.page,props:t.filters.productProps}).catch((function(){t.productsLoadingFailed=!0})).then((function(){t.productsLoading=!1}))}),700)},filterCategoryReset:function(){this.filters.filterPriceFrom=1,this.filters.filterPriceTo=1e6,this.filters.filterCheckedColor=null,this.filters.filterCategoryId=null,this.filters.productProps=[]},windowReload:function(){window.location.href="/"}}),watch:{page:function(){this.loadProducts()},filters:{handler:function(){this.loadProducts()},deep:!0}},mixins:[ht],created:function(){this.loadProducts()}},bt=vt,gt=Object(m["a"])(bt,D,A,!1,null,null,null),Ct=gt.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"error-page-wrapper"},[r("h1",[t._v("Страница не найдена")]),r("router-link",{staticClass:"error-button",attrs:{to:{name:"main"}}},[t._v(" Вернуться на главную ")])],1)},yt=[],kt={},It=kt,Ot=(r("5183"),Object(m["a"])(It,Pt,yt,!1,null,null,null)),xt=Ot.exports,Tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.productLoading?r("div",{staticStyle:{height:"55vh",position:"relative"}},[r("Preloader")],1):t.getProductById?r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" "+t._s(t.category.title)+" ")])])])]),r("section",{staticClass:"item"},[r("div",{staticClass:"item__pics pics"},[r("div",{staticClass:"pics__wrapper"},[r("img",{attrs:{src:t.product.preview.file.url,alt:t.product.title}})])]),r("div",{staticClass:"item__info"},[r("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(t.product.id))]),r("h2",{staticClass:"item__title"},[t._v(" "+t._s(t.product.title)+" ")]),r("div",{staticClass:"item__form"},[r("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.addToCart(e)}}},[r("b",{staticClass:"item__price"},[t._v(" "+t._s(t._f("numberFormat")(t.product.price*t.amount))+" ₽ ")]),r("div",{staticClass:"item__row"},[r("Counter",{attrs:{amount:t.amount},on:{"update:amount":function(e){t.amount=e}}}),t.productAdded?r("router-link",{staticClass:"button button--primery",attrs:{tag:"button",to:{name:"main"}}},[t._v(" На главную ")]):r("button",{staticClass:"button button--primery",attrs:{type:"submit",disabled:t.productAddSending||0===t.amount||""===t.amount}},[t.productAddSending?t._e():r("span",[t._v("В корзину")]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.productAddSending,expression:"productAddSending"}]},[t._v("Добавляем")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.productAdded,expression:"productAdded"}]},[r("span",[t._v(" Товар добавлен")])]),t.productAdded?r("router-link",{staticClass:"button button--primery",attrs:{tag:"button",to:{name:"cart"}}},[t._v(" В корзину ")]):t._e()],1)])])]),r("div",{staticClass:"item__desc"},[t.TABS?r("ul",{staticClass:"tabs"},t._l(t.TABS,(function(e){return r("li",{key:e.id,staticClass:"tabs__item"},[r("a",{staticClass:"tabs__link",class:{"tabs__link--current":t.currentTabComponent===e.component},attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.currentTabComponent=e.component}}},[t._v(" "+t._s(e.title)+" ")])])})),0):t._e(),r(t.currentTabComponent,{tag:"component"})],1)])]):t._e()},jt=[],wt=new a["a"];function $t(t,e){wt.$emit("gotoPage",t,e)}var Ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item__content"},[r("p",[t._v(" Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS"),r("br"),t._v(" Синхронизация со смартфоном"),r("br"),t._v(" Связь по Bluetooth Smart, ANT+ и Wi-Fi"),r("br"),t._v(" Поддержка сторонних приложений"),r("br")]),r("h3",[t._v("Что это?")]),r("p",[t._v(" Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. ")]),r("h3",[t._v("Дизайн")]),r("p",[t._v(" Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. ")])])}],At={name:"DescriptionTab"},Et=At,St=Object(m["a"])(Et,Ft,Dt,!1,null,null,null),Bt=St.exports,Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item__content"},[r("h3",[t._v("Беспроводная связь")]),r("p",[t._v("Wi-Fi, Bluetooth 4.0, ANT+")]),r("h3",[t._v("Поддерживаемые спутники")]),r("p",[t._v("GPS, ГЛОНАСС, BEIDOU Galileo и QZSS")]),r("h3",[t._v("Аккумулятор")]),r("p",[t._v("перезаряжаемый USB")]),r("h3",[t._v("Время автономной работы")]),r("p",[t._v("до 15 часов")]),r("h3",[t._v("Тип аккумулятора")]),r("p",[t._v("литий-ионный")]),r("h3",[t._v("Водонепроницаемость")]),r("p",[t._v("IPX7")]),r("h3",[t._v("Фирменное приложение")]),r("p",[t._v("ELEMNT от Wahoo Fitness")]),r("h3",[t._v("Совместимость")]),r("p",[t._v("iOS 9.0 и последующие, Android 4.3 и старше")])])}],Kt={name:"PropertyTab"},Nt=Kt,Mt=Object(m["a"])(Nt,Lt,Vt,!1,null,null,null),qt=Mt.exports,zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",[t._v("Грантия")])},Ut=[],Gt={name:"GuaranteeTab"},Rt=Gt,Wt=Object(m["a"])(Rt,zt,Ut,!1,null,"6868e56f",null),Ht=Wt.exports,Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("Error ex facere harum nemo nihil? Accusamus commodi dolorum ea esse facilis harum laboriosam molestiae molestias mollitia, nemo, officia optio quaerat quas reprehenderit repudiandae rerum suscipit, veniam veritatis voluptatem voluptatibus? ")])},Qt=[],Xt={name:"PaymentTab"},Zt=Xt,Yt=Object(m["a"])(Zt,Jt,Qt,!1,null,null,null),te=Yt.exports,ee=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},re=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item__content"},[r("p",[r("span",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda eius eveniet nesciunt quidem sapiente. Consequatur delectus eius est eveniet exercitationem, ipsa iste itaque molestias, nobis perspiciatis quae repellat tempora voluptatem. ")]),r("span",[t._v("Error ex facere harum nemo nihil? Accusamus commodi dolorum ea esse facilis harum laboriosam molestiae molestias mollitia, nemo, officia optio quaerat quas reprehenderit repudiandae rerum suscipit, veniam veritatis voluptatem voluptatibus? ")])])])}],ae={},se=ae,oe=Object(m["a"])(se,ee,re,!1,null,null,null),ie=oe.exports,ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product__counter form__counter"},[r("button",{attrs:{type:"button","aria-label":"Убрать один товар",disabled:t.amount<=1||""===t.amount},on:{click:t.decrement}},[r("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-minus"}})])]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.count,expression:"count",modifiers:{number:!0}}],attrs:{type:"number",name:"count"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("button",{attrs:{type:"button","aria-label":"Добавить один товар",disabled:""===t.amount},on:{click:t.increment}},[r("svg",{attrs:{width:"10",height:"10",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-plus"}})])])])},ce=[],le=(r("a9e3"),{props:["amount"],computed:{count:{get:function(){var t=Number(this.amount);return t},set:function(t){var e=String(t);this.$emit("update:amount",e)}}},methods:{increment:function(){this.count+=1},decrement:function(){this.count-=1}}}),ue=le,de=Object(m["a"])(ue,ne,ce,!1,null,null,null),pe=de.exports,me=[{id:1,title:"Описание",component:"DescriptionTab"},{id:2,title:"Характеристики",component:"PropertyTab"},{id:3,title:"Гарантия",component:"GuaranteeTab"},{id:4,title:"Оплата и доставка",component:"PaymentTab"}],_e={components:{DescriptionTab:Bt,PropertyTab:qt,GuaranteeTab:Ht,NotFoundTab:ie,PaymentTab:te,Counter:pe,Preloader:ft},data:function(){return{TABS:me,currentTabComponent:"DescriptionTab",amount:"1",productId:"",colorId:"",productsData:null,productLoading:!1,productLoadingField:!1,productAdded:!1,productAddSending:!1}},filters:{numberFormat:V},computed:Object(i["a"])(Object(i["a"])({},Object(x["c"])("global/loadProductById",["getProductById"])),{},{product:function(){return this.getProductById},productOfferId:function(){var t=String(this.getProductById.offers[0].id);return t},productColorId:function(){var t=String(this.getProductById.colors[0].color.id);return t},category:function(){return this.getProductById.category}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(x["b"])("baskets/baskets",["addProductToCart"])),Object(x["b"])("global/loadProductById",["loadProductById"])),{},{gotoPage:$t,addToCart:function(){var t=this;this.productAdded=!1,this.productAddSending=!0,this.addProductToCart({productId:this.productOfferId,amount:this.amount,colorId:this.productColorId}).then((function(){t.productAdded=!0,t.productAddSending=!1}))},loadProduct:function(){var t=this;this.productLoading=!0,clearTimeout(this.loadProductTimer),this.loadProductTimer=setTimeout((function(){t.loadProductById(t.$route.params.id).then((function(){t.productLoading=!1}))}),700)}}),watch:{"$route.params.id":{handler:function(){this.loadProduct()},immediate:!0}}},fe=_e,he=Object(m["a"])(fe,Tt,jt,!1,null,null,null),ve=he.exports,be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),t._m(0)]),r("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.countProduct)+" "+t._s(t._f("declText")(t.countProduct,["товар","товара","товаров"]))+" ")])]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[r("div",{staticClass:"cart__field"},[r("ul",{staticClass:"cart__list"},t._l(t.products,(function(t){return r("CartItem",{key:t.product.id,attrs:{item:t}})})),1)]),r("div",{staticClass:"cart__block"},[r("p",{staticClass:"cart__desc"},[t._v(" Мы посчитаем стоимость доставки на следующем этапе ")]),r("p",{staticClass:"cart__price"},[t._v(" Итого: "),r("span",[t._v(" "+t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])]),r("router-link",{staticClass:"cart__button button button--primery",attrs:{tag:"button",to:{name:"order"},type:"submit",disabled:0===t.totalPrice}},[t._v(" Оформить заказ ")]),0===t.totalPrice?r("router-link",{staticClass:"cart__button button button--primery",attrs:{tag:"button",to:{name:"main"}}},[t._v(" На главную ")]):t._e()],1)])])])},ge=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Корзина ")])])}],Ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"cart__item product"},[r("div",{staticClass:"product__pic"},[r("img",{attrs:{src:t.item.productOffer.product.preview.file.url,width:"120",height:"120",alt:t.item.title}})]),r("h3",{staticClass:"product__title"},[t._v(" "+t._s(t.item.productOffer.title)+" ")]),r("span",{staticClass:"product__code"},[t._v(" Артикул: "+t._s(t.item.productOffer.product.id)+" ")]),r("Counter",{attrs:{amount:t.amountItem},on:{"update:amount":function(e){t.amountItem=e}}}),r("b",{staticClass:"product__price"},[t._v(" "+t._s(t._f("numberFormat")(t.amountItem*t.item.productOffer.price))+" ₽ ")]),r("button",{staticClass:"product__del button-del",attrs:{type:"button","aria-label":"Удалить товар из корзины"},on:{click:function(e){return e.preventDefault(),t.deleteProduct(e)}}},[r("svg",{attrs:{width:"20",height:"20",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-close"}})])])],1)},Pe=[],ye={components:{Counter:pe},filters:{numberFormat:V},props:["item"],computed:{amountItem:{get:function(){return this.item.quantity},set:function(t){return this.updateCartProductAmount({basketItemId:String(this.item.id),amount:t})}}},methods:Object(i["a"])(Object(i["a"])({},Object(x["b"])("baskets/baskets",["updateCartProductAmount","deleteProductFromCart"])),{},{deleteProduct:function(){this.deleteProductFromCart({basketItemId:String(this.item.id)})}})},ke=ye,Ie=Object(m["a"])(ke,Ce,Pe,!1,null,null,null),Oe=Ie.exports,xe={components:{CartItem:Oe},filters:{numberFormat:V},mixins:[ht],computed:Object(i["a"])({},Object(x["c"])("baskets/baskets",{products:"cartDetailProducts",totalPrice:"cartTotalPrice",countProduct:"countProducts"}))},Te=xe,je=Object(m["a"])(Te,be,ge,!1,null,null,null),we=je.exports,$e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.productLoading?r("div",{staticStyle:{height:"55vh",position:"relative"}},[r("Preloader")],1):t.productLoadingField?r("div",{staticClass:"error-wrapper",staticStyle:{height:"55vh"}},[t._m(0),r("button",{staticClass:"error-button",on:{click:function(e){return e.preventDefault(),t.order(e)}}},[t._v(" перезагрузить ")])]):r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(1)]),r("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.countProduct)+" "+t._s(t._f("declText")(t.countProduct,["товар","товара","товаров"]))+" ")])]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.order(e)}}},[r("div",{staticClass:"cart__field"},[r("div",{staticClass:"cart__data"},[r("BaseFormText",{attrs:{error:t.formError.name,title:"ФИО",placeholder:"Введите ваше полное имя"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),r("BaseFormText",{attrs:{error:t.formError.address,title:"Адрес доставки",placeholder:"Введите ваш адрес"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}}),r("BaseFormText",{attrs:{error:t.formError.phone,title:"Телефон",type:"tel",placeholder:"Введите ваш телефон"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),r("BaseFormText",{attrs:{error:t.formError.email,title:"Email",type:"email",placeholder:"Введи ваш Email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),r("BaseFormTextarea",{attrs:{error:t.formError.comment,title:"Комментарий к заказу",placeholder:"Ваши пожелания"},model:{value:t.formData.comment,callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1)]),r("div",{staticClass:"cart__block"},[r("ul",{staticClass:"cart__orders"},t._l(t.products,(function(t){return r("OrderItem",{key:t.id,attrs:{item:t}})})),1),r("div",{staticClass:"cart__total"},[r("p",[t._v("Итого: "),r("b",[t._v(t._s(t.countProduct))]),t._v(" "+t._s(t._f("declText")(t.countProduct,["товар","товара","товаров"]))+" на сумму "),r("b",[t._v(t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])])]),r("button",{staticClass:"cart__button button button--primery",attrs:{type:"submit"}},[t._v(" Оформить заказ ")])]),t.formErrorMassage?r("div",{staticClass:"cart__error form__error-block"},[r("h4",[t._v("Заявка не отправлена!")]),r("p",[t._v(" "+t._s(this.formErrorMassage)+" ")])]):t._e()])])])},Fe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",{staticClass:"error-heading"},[t._v(" Ой!"),r("br"),t._v(" Что-то пошло не так ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])}],De=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseFormField",{attrs:{title:t.title,error:t.error}},["checkbox"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:"name",placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.dataValue)?t._i(t.dataValue,null)>-1:t.dataValue},on:{change:function(e){var r=t.dataValue,a=e.target,s=!!a.checked;if(Array.isArray(r)){var o=null,i=t._i(r,o);a.checked?i<0&&(t.dataValue=r.concat([o])):i>-1&&(t.dataValue=r.slice(0,i).concat(r.slice(i+1)))}else t.dataValue=s}}}):"radio"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:"name",placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.dataValue,null)},on:{change:function(e){t.dataValue=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:"name",placeholder:t.placeholder,type:t.type},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},Ae=[],Ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"form__label"},[t._t("default"),r("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t.error?r("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},Se=[],Be={props:["title","error"]},Le=Be,Ve=Object(m["a"])(Le,Ee,Se,!1,null,null,null),Ke=Ve.exports,Ne={props:["title","error","placeholder","value"],components:{BaseFormField:Ke},computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},Me={props:{type:{default:"text"}},mixins:[Ne]},qe=Me,ze=Object(m["a"])(qe,De,Ae,!1,null,null,null),Ue=ze.exports,Ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseFormField",{attrs:{title:t.title,error:t.error}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__input--area",attrs:{name:"comments",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},Re=[],We={mixins:[Ne]},He=We,Je=Object(m["a"])(He,Ge,Re,!1,null,null,null),Qe=Je.exports,Xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"cart__order"},[r("h3",[t._v(t._s(t.item.productOffer.title))]),r("b",[t._v(" "+t._s(t._f("numberFormat")(t.item.quantity*t.item.price))+" ₽ ")]),r("span",[t._v("Артикул: "+t._s(t.item.productOffer.product.id))])])},Ze=[],Ye={props:["item"],filters:{numberFormat:V},computed:{getProductId:function(){return String(this.item.id)}}},tr=Ye,er=Object(m["a"])(tr,Xe,Ze,!1,null,null,null),rr=er.exports,ar={components:{BaseFormText:Ue,BaseFormTextarea:Qe,OrderItem:rr,Preloader:ft},data:function(){return{formData:{deliveryTypeId:1,paymentTypeId:1},formError:{},formErrorMassage:"",productLoading:!1,productLoadingField:!1}},filters:{numberFormat:V},mixins:[ht],computed:Object(i["a"])({},Object(x["c"])("baskets/baskets",{products:"cartDetailProducts",totalPrice:"cartTotalPrice",countProduct:"countProducts"})),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(x["d"])("baskets/baskets",["resetCart"])),Object(x["b"])("order/order",["makeOrder"])),{},{order:function(){var t=this;this.formError={},this.formErrorMassage="",st.a.post("".concat(ot,"/api/orders"),Object(i["a"])({},this.formData),{params:{userAccessKey:this.$store.state.baskets.baskets.userAccessKey}}).then((function(e){t.productLoading=!1,t.resetCart(),t.$store.commit("order/order/updateOrderInfo",e.data),t.$router.push({name:"orderInfo",params:{id:e.data.id}})})).catch((function(e){t.formError=e.response.data.error.request||{},t.formErrorMassage=e.response.data.error.message}))}})},sr=ar,or=Object(m["a"])(sr,$e,Fe,!1,null,null,null),ir=or.exports,nr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(0)]),t.orderInfo?r("h1",{staticClass:"content__title"},[t._v(" Заказ оформлен "),r("span",[t._v("№ "+t._s(this.orderInfo.id))])]):t._e()]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[r("div",{staticClass:"cart__field"},[r("p",{staticClass:"cart__message"},[t._v(" Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ")]),t.orderInfo?r("ul",{staticClass:"dictionary"},[r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Получатель ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.name)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Адрес доставки ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.address)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Телефон ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.phone)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Email ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.email)+" ")])])]):t._e()]),r("router-link",{staticClass:"error-button",attrs:{tag:"button",to:{name:"main"}}},[t._v(" На главную ")]),r("div",{staticClass:"cart__block"},[r("ul",{staticClass:"cart__orders"},t._l(t.basketInfo,(function(e){return r("li",{key:e.productOffer.id,staticClass:"cart__order"},[r("h3",[t._v(t._s(e.productOffer.title))]),r("b",[t._v(t._s(t._f("numberFormat")(e.productOffer.price))+" ₽")]),r("span",[t._v("Артикул: "+t._s(e.productOffer.id))])])})),0),t.getOrderInfo?r("div",{staticClass:"cart__total"},[r("p",[t._v("Итого: "),r("b",[t._v(t._s(t.getOrderInfo.basket.items.length))]),t._v(" "+t._s(t._f("declText")(t.getOrderInfo.basket.items.length,["товар","товара","товаров"]))+" на сумму "),r("b",[t._v(t._s(t._f("numberFormat")(t.orderInfo.totalPrice))+" ₽")])])]):t._e()])],1)])])},cr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])}],lr={computed:Object(i["a"])(Object(i["a"])({},Object(x["c"])("order/order",["getOrderInfo"])),{},{orderInfo:function(){return this.getOrderInfo},basketInfo:function(){return this.getOrderInfo&&this.getOrderInfo.basket.items}}),methods:Object(i["a"])({},Object(x["b"])("order/order",["loadOrderInfo"])),filters:{numberFormat:V},mixins:[ht],created:function(){this.$store.state.order.order.orderInfo&&this.$store.state.order.order.orderInfo.id===this.$route.params.id||this.loadOrderInfo(this.$route.params.id)}},ur=lr,dr=Object(m["a"])(ur,nr,cr,!1,null,null,null),pr=dr.exports;a["a"].use(F["a"]);var mr=[{name:"main",component:Ct,path:"/"},{name:"product",component:ve,path:"/products/:id"},{name:"cart",component:we,path:"/cart/"},{name:"order",component:ir,path:"/order/"},{name:"orderInfo",component:pr,path:"/order/:id"},{name:"notFound",component:xt,path:"/404"},{path:"*",redirect:"/404"}],_r=new F["a"]({routes:mr}),fr=_r,hr=(r("d81d"),r("96cf"),r("1da1")),vr=r("4328"),br=r.n(vr),gr={namespaced:!0,state:{productsData:null,productProps:[],productItem:null},getters:{getProductsData:function(t){return t.productsData},products:function(t,e){return e.getProductsData?e.getProductsData.items.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{image:t.preview.file.url})})):[]},countProductsAll:function(t,e){return e.getProductsData?e.getProductsData.pagination.total:[]}},mutations:{syncProductsData:function(t,e){t.productsData=e}},actions:{loadMainProducts:function(t,e){return Object(hr["a"])(regeneratorRuntime.mark((function r(){var a,s,o,i,n,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.categoryId,s=e.colorId,o=e.minPrice,i=e.maxPrice,n=e.limit,c=e.page,l=e.props,r.next=3,st.a.get("".concat(ot,"/api/products"),{params:{categoryId:a,colorId:s,minPrice:o,maxPrice:i,limit:n,page:c,props:l},paramsSerializer:function(t){return br.a.stringify(t,{arrayFormat:"brackets"})}}).then((function(e){t.commit("syncProductsData",e.data)})).catch((function(t){console.log(t)}));case 3:case"end":return r.stop()}}),r)})))()}}},Cr={namespaced:!0,state:{productId:null},getters:{getProductById:function(t){return t.productId}},mutations:{updateProductId:function(t,e){t.productId=e}},actions:{loadProductById:function(t,e){var r=this;return Object(hr["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,st.a.get("".concat(ot,"/api/products/").concat(e)).then((function(e){t.commit("updateProductId",e.data)})).catch((function(){r.$router.push("/404")}));case 2:case"end":return a.stop()}}),a)})))()}}},Pr={namespaced:!0,state:{productProps:[]},getters:{getProductProps:function(t){return t.productProps}},mutations:{updateProductProps:function(t,e){t.productProps.push(e)},resetProps:function(t){t.productProps=[]}},actions:{}},yr={namespaced:!0,modules:{loadMainProducts:gr,loadProductById:Cr,productProps:Pr}},kr=(r("7db0"),r("13d5"),r("d3b7"),{namespaced:!0,state:{cartProducts:[],cartProductsData:[]},getters:{cartDetailProducts:function(t){return t.cartProductsData.map((function(e){var r=t.cartProductsData.find((function(t){return t.productOffer.product.id===e.productOffer.product.id})),a=r.product;return Object(i["a"])(Object(i["a"])({},e),{},{product:Object(i["a"])({},a)})}))},cartTotalPrice:function(t,e){return e.cartDetailProducts.reduce((function(t,e){return e.price*+e.quantity+t}),0)},countProducts:function(t,e){return e.cartDetailProducts.length}},mutations:{updateUserAccessKey:function(t,e){t.userAccessKey=e},updateCartProductsData:function(t,e){t.cartProductsData=e},syncCartProducts:function(t){t.cartProducts=t.cartProductsData.map((function(t){return{productId:t.id,amount:t.quantity}}))},resetCart:function(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount:function(t,e){var r=e.productId,a=e.amount,s=t.cartProducts.find((function(t){return t.productId===r}));s&&(s.amount=a)},deleteCartProduct:function(t,e){t.cartProducts=t.cartProducts.filter((function(t){return t.productId!==e}))}},actions:{loadCart:function(t){return st.a.get("".concat(ot,"/api/baskets"),{params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart:function(t,e){var r=e.productId,a=e.colorId,s=e.amount;return new Promise((function(t){return setTimeout(t,1e3)})).then((function(){return st.a.post("".concat(ot,"/api/baskets/products"),{productOfferId:r,colorId:a,quantity:s},{params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))}))},updateCartProductAmount:function(t,e){var r=e.basketItemId,a=e.amount;t.commit("updateCartProductAmount",{basketItemId:r,amount:a}),a<1||st.a.put("".concat(ot,"/api/baskets/products"),{basketItemId:r,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.commit("updateCartProductsData",e.data.items)})).catch((function(){t.commit("syncCartProducts")}))},deleteProductFromCart:function(t,e){var r=e.basketItemId;return t.commit("deleteCartProduct",r),st.a.delete("".concat(ot,"/api/baskets/products"),{data:{basketItemId:r},params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))}}}),Ir={namespaced:!0,modules:{baskets:kr}},Or={namespaced:!0,state:{orderInfo:null,orderId:null},getters:{getOrderInfo:function(t){return t.orderInfo},getOrderId:function(t){return t.orderId}},mutations:{updateOrderInfo:function(t,e){t.orderInfo=e},updateOrderId:function(t,e){t.orderInfo=e}},actions:{loadOrderInfo:function(t,e){return st.a.get("".concat(ot,"/api/orders/").concat(e),{params:{userAccessKey:this.state.baskets.baskets.userAccessKey}}).then((function(e){t.commit("updateOrderInfo",e.data)}))}}},xr={namespaced:!0,modules:{order:Or}};a["a"].use(x["a"]);var Tr=new x["a"].Store({namespaced:!0,modules:{global:yr,baskets:Ir,order:xr},state:{},getters:{},mutations:{},actions:{}});a["a"].config.productionTip=!1,new a["a"]({router:fr,store:Tr,render:function(t){return t($)}}).$mount("#app")},"93ff":function(t,e,r){},c183:function(t,e,r){"use strict";var a=r("3478"),s=r.n(a);s.a},e58d:function(t,e,r){"use strict";var a=r("28b1"),s=r.n(a);s.a}});
//# sourceMappingURL=app.5b82f70b.js.map